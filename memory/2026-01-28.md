# 2026-01-28 Daily Log

## Agent Dashboard - Auto-Provisioning (continued from 01-27)

### Railway Provisioning - Major Findings
- **Full provisioning API works** - tested end-to-end at `/api/agents/provision`
- Railway project creation + service + env vars all succeed via GraphQL API
- Email and Whop credential generation work (but Whop is NOT real - just placeholder credentials)

### Andrew's Feedback (3:38 AM)
1. **Whop accounts are not real** - just generating fake usernames/passwords. Need browser automation or Whop API for real account creation.
2. **All agents should be in ONE Railway project** (separate services), not separate projects per agent
3. **Use the official Clawdbot Railway template** - found at `railway.com/template/clawdbot`

### Railway Template Investigation
- **Template ID:** `ae666c5f-aa77-43fa-8ae4-305056ee9860`
- **Template code:** `clawdbot`
- **Template service ID:** `17b4e32f-54c0-49c9-8fa1-c37b4141e238`
- **Source repo (from template config):** `clawdbot/clawdbot`
- **Actual working repo (from Clawdbot Goat):** `vignesh07/clawdbot-railway-template`
- **Start command:** `node dist/index.js gateway --allow-unconfigured --port 18789 --bind lan`
- **Workspace ID:** `41a016eb-1369-4f8b-8171-c40740df07a5`

### Created "Spark Studio Agents" Project
- **Project ID:** `25985985-f53d-4c2e-a9ff-c23e09716643`
- **Environment ID (production):** `7ae32d1d-c474-450b-b7f5-6f16e5d875cd`
- This is the shared project for all agent services

### BUILD FAILURE - templateDeploy API Bug
- Railway's `templateDeploy` GraphQL mutation does NOT work properly for deploying into existing projects
- The `template` field in `TemplateDeployService` gets treated as a **Docker image name** instead of connecting to the GitHub repo
- Tried multiple approaches: with/without projectId, with owner field, with Docker image - all failed
- **Root cause:** The existing working Clawdbot Goat was deployed via Railway's **one-click UI button**, which correctly links the GitHub repo. The API doesn't replicate this.
- Error: "The image `17b4e32f-54c0-49c9-8fa1-c37b4141e238` could not be found"

### Proposed Solutions (awaiting Andrew's response)
1. **Browser automation** - automate the Railway one-click deploy flow
2. **Fork the template repo** - fork `vignesh07/clawdbot-railway-template` to Andrew's GitHub, then use `serviceConnect`

### .env.local Updated
```
RAILWAY_API_TOKEN=f31c271d-...
RAILWAY_PROJECT_ID=25985985-f53d-4c2e-a9ff-c23e09716643
RAILWAY_WORKSPACE_ID=41a016eb-1369-4f8b-8171-c40740df07a5
RAILWAY_TEMPLATE_CODE=clawdbot
RAILWAY_TEMPLATE_ID=ae666c5f-aa77-43fa-8ae4-305056ee9860
RAILWAY_TEMPLATE_SERVICE_ID=17b4e32f-54c0-49c9-8fa1-c37b4141e238
```

### Dashboard Dev Server Crashes
- Next.js dev server keeps crashing due to Windows file lock conflicts on `.next/dev/lock`
- Not a code issue - local dev environment problem
- Andrew asked about it ("why do you keep crashing")

### Existing Railway Projects (Andrew's account)
- **Clawdbot Goat** (`cffbe06f-5a78-4f93-94c3-1a509f32cec9`) - working Clawdbot instance
  - Service: `clawdbot-railway-template` from repo `vignesh07/clawdbot-railway-template`
- **Spark Studio Agents** (`25985985-f53d-4c2e-a9ff-c23e09716643`) - new shared agent project (empty, test services cleaned up)

### Test Projects Cleaned Up
- Deleted all test projects/services from Railway to keep account clean
